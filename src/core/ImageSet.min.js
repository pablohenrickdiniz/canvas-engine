define(["AppObject","Validator"],function(b,c){var a=function(e){var d=this;d.loads=[];d.url="";d.x=0;d.y=0;d.oldX=0;d.oldY=0;d.width=0;d.height=0;d.sx=0;d.sy=0;d.sWidth=0;d.sHeight=0;d.layer=0;d.loaded=false;d.image=null;d.parent=null;d.selected=false;b.call(d);a.bindProperties.apply(d);d.set(e)};a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.clone=function(){return new a(this._props())};a.prototype.getBounds=function(){var d=this;return{x:d.x,y:d.y,width:d.width,height:d.height}};a.bindProperties=function(){var d=this;d._beforeSet("x",c.validateNumber);d._beforeSet("y",c.validateNumber);d._beforeSet("width",c.validateNumber);d._beforeSet("height",c.validateNumber);d._beforeSet("sx",c.validateNumber);d._beforeSet("sy",c.validateNumber);d._beforeSet("sWidth",c.validateNumber);d._beforeSet("sHeight",c.validateNumber);d._beforeSet("layer",c.validateNumber);d._beforeSet("url",c.validateString);d._accessible(["url","x","y","width","height","sx","sy","sWidth","sHeight","layer"])};a.prototype.isLoaded=function(){return this.loaded};a.prototype.isTransparent=function(d,i){var f=this;if(f.image!==null&&d<f.width&&i<f.height&&d>=0&&i>=0){var g=document.createElement("canvas");g.width=1;g.height=1;var e=g.getContext("2d");e.drawImage(f.image,f.sx+d,f.sy+i,1,1,0,0,1,1);var h=e.getImageData(0,0,1,1).data;return h[3]===undefined||h[3]===0}return true};return a});