define(["CanvasLayer","Animation"],function(a,c){var b=function(f,e){var d=this;d.objects=[];a.call(d,f,e)};b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.add=function(e){var d=this;e.parent=d;e.layer=d.objects.length;d.objects.push(e);d.refresh();return d};b.prototype.createAnimation=function(d){};b.prototype.moveUp=function(g){var e=this;var f=e.objects.indexOf(g);if(f!==-1&&f<e.objects.length-1){var d=e.objects[f+1];d.layer=f;g.layer=f+1;e.objects[f]=d;e.objects[f+1]=g;e.refresh()}return e};b.prototype.moveDown=function(g){var e=this;var f=e.objects.indexOf(g);if(f!==-1&&f>0){var d=e.objects[f-1];d.layer=f;g.layer=f-1;e.objects[f]=d;e.objects[f-1]=g;e.refresh()}return e};b.prototype.remove=function(f){var d=this;var e=d.objects.indexOf(f);if(e!==-1){d.objects.splice(e,1);var h=d.objects.length;for(var g=e;g<h;g++){d.objects[e].layer=e}f.parent=null;d.refresh()}return d};b.prototype.unselectObjects=function(){var d=this;d.objects.forEach(function(e){e.selected=false});d.refresh()};b.prototype.refresh=function(){var d=this;d.clear().objects.forEach(function(e){d.drawImageSet(e)})};return b});